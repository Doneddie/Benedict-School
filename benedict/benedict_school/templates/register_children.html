{% extends 'base.html' %}
{% load static %}
{% load django_bootstrap5 %}

{% block title %} REGISTRATION {% endblock title %}
{% block stylesheets %}
    {{ block.super }} <!-- This includes the CSS from the base.html -->
    <!-- Use this line for Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{% static '' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- Add Google Fonts for Roboto -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
{% endblock %}
{% block content %}
    <h1>Register Children for {{ parent.first_name }} {{ parent.last_name }}</h1>

    <!-- Display the child registration forms and application forms -->
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Render Child Forms -->
        {{ child_formset.management_form }}
        {% for form in child_formset %}
            <fieldset>
                <legend>Child {{ forloop.counter }}</legend>
                {{ form.as_p }}
            </fieldset>
        {% endfor %}
        
        <!-- Render PupilApplication Forms -->
        {{ application_formset.management_form }}
        {% for form in application_formset %}
            <fieldset>
                <legend>Application for Child {{ forloop.counter }}</legend>
                {{ form.as_p }}
            </fieldset>
        {% endfor %}
        
        <button type="submit">Submit</button>
    </form>
{% endblock %}
